<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lunar Lander</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/devtools.css">
</head>
<body>
    <div id="menu" class="visible">
        <h1>Lunar Lander</h1>
        <div class="menu-buttons">
            <button id="playBtn" class="menu-btn">Play Game</button>
            <button id="spectateBtn" class="menu-btn">Spectate Live Game</button>
            <button id="replayBtn" class="menu-btn">Watch Replay</button>
            <button id="helpBtn" class="menu-btn">How to Play</button>
        </div>
        <div style="margin-top: 20px; color: #888; font-size: 14px; text-align: center;">
            Press ESC to return to menu | Arrow keys to control
        </div>
        <div id="helpScreen" class="hidden">
            <h2>How to Play</h2>
            <div class="help-content">
                <div class="help-section">
                    <h3>üéÆ Controls</h3>
                    <p><strong>‚Üë Arrow Up</strong> - Fire thrusters</p>
                    <p><strong>‚Üê Arrow Left</strong> - Rotate left</p>
                    <p><strong>‚Üí Arrow Right</strong> - Rotate right</p>
                    <p><strong>P</strong> - Pause/Resume</p>
                    <p><strong>ESC</strong> - Return to menu</p>
                    <p><strong>R</strong> - Restart (after game over)</p>
                </div>
                <div class="help-section">
                    <h3>üéØ Objective</h3>
                    <p>Land safely on the green landing zones!</p>
                    <p><strong>Safe Landing:</strong></p>
                    <p>‚Ä¢ Speed &lt; 5.0 m/s</p>
                    <p>‚Ä¢ Angle &lt; 17¬∞ (nearly upright)</p>
                    <p>‚Ä¢ On a green landing zone</p>
                </div>
                <div class="help-section">
                    <h3>‚≠ê Scoring</h3>
                    <p><strong>Base:</strong> 1,000 points</p>
                    <p><strong>Fuel Bonus:</strong> 0-500 (more fuel = more points)</p>
                    <p><strong>Time Bonus:</strong> 0-300 (faster = more points)</p>
                    <p><strong>Difficulty Multiplier:</strong></p>
                    <p>‚Ä¢ Easy: 1x (max 1,800)</p>
                    <p>‚Ä¢ Medium: 1.5x (max 2,700)</p>
                    <p>‚Ä¢ Hard: 2x (max 3,600)</p>
                </div>
                <div class="help-section">
                    <h3>üí° Tips</h3>
                    <p>‚Ä¢ Watch your speed and angle indicators</p>
                    <p>‚Ä¢ Green = safe, Yellow = caution, Red = danger</p>
                    <p>‚Ä¢ Use short bursts of thrust to control descent</p>
                    <p>‚Ä¢ Rotate early to align with landing zone</p>
                    <p>‚Ä¢ Save fuel for the final approach</p>
                </div>
            </div>
            <button id="backFromHelp" class="menu-btn">Back</button>
        </div>
        <div id="difficultySelect" class="hidden">
            <h2>Select Difficulty</h2>
            <div class="difficulty-buttons">
                <button class="difficulty-btn" data-difficulty="simple">
                    <div class="difficulty-name">Easy</div>
                    <div class="difficulty-desc">Gentle terrain, more fuel</div>
                </button>
                <button class="difficulty-btn" data-difficulty="medium">
                    <div class="difficulty-name">Medium</div>
                    <div class="difficulty-desc">Moderate terrain, standard fuel</div>
                </button>
                <button class="difficulty-btn" data-difficulty="hard">
                    <div class="difficulty-name">Hard</div>
                    <div class="difficulty-desc">Rough terrain, limited fuel</div>
                </button>
            </div>
            <button id="backFromDifficulty" class="menu-btn">Back</button>
        </div>
        <div id="gameList" class="hidden">
            <h2>Active Games</h2>
            <div id="gameListContent"></div>
            <button id="backFromGames" class="menu-btn">Back</button>
        </div>
        <div id="replayList" class="hidden">
            <h2>Replays</h2>
            <div id="replayListContent"></div>
            <button id="backFromReplays" class="menu-btn">Back</button>
        </div>
    </div>
    <div id="app" class="hidden">
        <canvas id="gameCanvas" width="1200" height="800"></canvas>
        <div id="modeIndicator"></div>
        <div id="pauseOverlay" class="hidden">
            <div class="pause-content">
                <h1>PAUSED</h1>
                <p>Press P to resume</p>
            </div>
        </div>
        <!-- Mobile touch controls -->
        <div id="mobileControls" class="hidden">
            <div class="mobile-control-group" id="leftControls">
                <button id="thrust" class="mobile-btn thrust-btn">‚ñ≤</button>
            </div>
            <div class="mobile-control-group" id="rightControls">
                <button id="rotateLeft" class="mobile-btn">‚óÄ</button>
                <button id="rotateRight" class="mobile-btn">‚ñ∂</button>
            </div>
        </div>
        <div id="mobileMenuControls" class="hidden">
            <button id="mobileRestart" class="mobile-menu-btn">‚Üª</button>
            <button id="mobileMenu" class="mobile-menu-btn">‚ò∞</button>
        </div>
        <button id="controlSwap" class="hidden">‚áÑ Swap</button>
    </div>
    <!-- Status box outside app to avoid flex container issues -->
    <div id="status" class="hidden">Connecting...</div>
    
    <!-- Dev Tools Panel (toggle with ` key) -->
    <div id="devTools" class="hidden">
        <h3>Dev Tools (Press ` to toggle)</h3>
        <div class="dev-section">
            <div><span class="dev-label">FPS:</span> <span id="devFps" class="dev-value">--</span></div>
            <div><span class="dev-label">Frame Time:</span> <span id="devFrameTime" class="dev-value">--</span></div>
        </div>
        <div class="dev-section">
            <div><span class="dev-label">WebSocket:</span> <span id="devWsStatus" class="dev-value">--</span></div>
            <div><span class="dev-label">Mobile:</span> <span id="devMobile" class="dev-value">--</span></div>
            <div><span class="dev-label">Debug Mode:</span> <span id="devDebugMode" class="dev-value">--</span></div>
        </div>
        <div class="dev-section">
            <div><span class="dev-label">Position:</span> <span id="devPosition" class="dev-value">--</span></div>
            <div><span class="dev-label">Velocity:</span> <span id="devVelocity" class="dev-value">--</span></div>
            <div><span class="dev-label">Rotation:</span> <span id="devRotation" class="dev-value">--</span></div>
            <div><span class="dev-label">Fuel:</span> <span id="devFuel" class="dev-value">--</span></div>
        </div>
    </div>
    
    <script type="module" src="js/main-menu.js"></script>
</body>
</html>
